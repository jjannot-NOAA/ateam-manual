<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.551">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Schedules, Leave, Duties, Performance</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="timeattendance_files/libs/clipboard/clipboard.min.js"></script>
<script src="timeattendance_files/libs/quarto-html/quarto.js"></script>
<script src="timeattendance_files/libs/quarto-html/popper.min.js"></script>
<script src="timeattendance_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="timeattendance_files/libs/quarto-html/anchor.min.js"></script>
<link href="timeattendance_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="timeattendance_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="timeattendance_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="timeattendance_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="timeattendance_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Schedules, Leave, Duties, Performance</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="schedules-time-attendance" class="level2">
<h2 class="anchored" data-anchor-id="schedules-time-attendance">Schedules, Time &amp; Attendance</h2>
<section id="non-federal-employees" class="level4">
<h4 class="anchored" data-anchor-id="non-federal-employees">non-Federal employees</h4>
<p>Guidance on schedules, time and attendance should be provided by your employer. Please also be sure to work with the A-Team Program Manager on setting your schedule.</p>
</section>
<section id="federal-employees" class="level4">
<h4 class="anchored" data-anchor-id="federal-employees">Federal employees</h4>
<p>If you are federal employee, you will access your time-sheets through the <a href="https://docwebta.eas.commerce.gov/webta/">GovTA</a> web portal. Within one week of on-boarding <a href="https://enterpriseservices.servicenowservices.com/es">Enterprise Services</a> will create a new profile for you in GovTA.</p>
<p>You should:</p>
<ul>
<li>work with the Program Manager to set your work schedule<br>
</li>
<li>familiarize yourself with the definitions and rules around <a href="https://drive.google.com/file/d/1VlxkCEHZEdQd2pfGu9Bud5QZDUudqioa/view?pli=1">Alternative Work Schedules</a><br>
</li>
<li>fill out an <a href="https://drive.google.com/file/d/1SvyTE2M6lQ0dcX5w3b0f7CJNxU6zDFDy/view?usp=share_link">Employee Work Schedule Form</a><br>
</li>
<li>fill out a <a href="https://drive.google.com/file/d/19oABvmjMgRX4az-9U1Ijgd3ux5BwmHQw/view">Telework Application Agreement</a><br>
</li>
<li>fill out a <a href="https://drive.google.com/file/d/198EkLWjTkQIOVQ1z7eD9eBf5z74Orfah/view">Telework Safety Checklist</a></li>
<li>fill out a <a href="https://docs.google.com/forms/d/e/1FAIpQLSchGHo2aulpw4md1jFiEAnAtQ9NS-idmG9gJ_ngqlB-MQj3_w/viewform">Telework Application Routing form</a></li>
<li>take Telework Training in the <a href="https://doc.csod.com/client/doc/default.aspx">Common Learning Center</a></li>
</ul>
<p><strong>Telework Policy for NOAA FTEs - please note the following</strong></p>
<ol type="1">
<li>You are currently (<code>r Sys.Date()</code>) required to be in the office 2 days per pay period.<br>
</li>
<li>If you change your work hours within a given day by more than 1 hour, you must notify the Program Manger.<br>
</li>
<li>Telework is a privilege which can be revoked.<br>
</li>
<li>If you are called into the office from telework status for any reason at any time during your normal teleworking hours, your commute to the office is <em>non-work</em> time and should <em>not</em> be recorded on your time sheet.
<ul>
<li>For example, your work computer becomes inoperable and AFSC Help Desk indicates that you need to bring it to the AFSC to have it fixed. Your travel time to the AFSC is not to be recorded as work time.</li>
</ul></li>
</ol>
<p>Forms and information can be found on the <a href="https://sites.google.com/noaa.gov/myafsc/administrative/time-and-attendance">myAFSC Time and Attendance page</a></p>
<p><a href="https://sites.google.com/noaa.gov/myafsc/administrative/time-and-attendance">Time and Attendance Resources</a></p>
</section>
<section id="leave" class="level3">
<h3 class="anchored" data-anchor-id="leave">Leave</h3>
<section id="non-federal-employees-1" class="level4">
<h4 class="anchored" data-anchor-id="non-federal-employees-1">non-Federal employees</h4>
<p>Guidance on leave should be provided by your employer.</p>
</section>
<section id="federal-employees-1" class="level4">
<h4 class="anchored" data-anchor-id="federal-employees-1">Federal employees</h4>
<p>Use GovTA to request leave. You can find resources related to leave <a href="https://sites.google.com/noaa.gov/myafsc/administrative/time-and-attendance">here</a></p>
<p>In 2023, NOAA added a new leave category <code>66-Administrative Leave - Wellness</code>. The category “…aims to provide workplace liabilities that increase employees’ engagement, retention, and interest in their health and wellness.” (<a href="https://drive.google.com/file/d/1Z5XUCydpDjW-j8YLKRshp0WT_ZEfKKcq/view?pli=1">HRGB #1018, FY23</a>). This program allows for up to 40 hours per year of leave to participate in wellness activities during work hours. Below is some guidance, but please see the <a href="https://drive.google.com/file/d/1Z5XUCydpDjW-j8YLKRshp0WT_ZEfKKcq/view?pli=1">policy</a> for a complete understanding of the rules and the <a href="https://drive.google.com/file/d/1asc745qKgQXn_7Tlp_DxnJhOYuYlROfX/view">FAQ</a> for further information.</p>
<p>Administrative Leave to participate in wellness activities:</p>
<ol type="1">
<li>Must be coordinated with, requested to, and approved by your supervisor before being taken.<br>
</li>
<li>Must be displayed on your G-calendar.<br>
</li>
<li>Must be used in increments of at least 15 minutes.<br>
</li>
<li>Generally may not exceed more than 1 hour on any given work week.<br>
</li>
<li>May be used in conjunction with lunch periods, or at the beginning or end of a workday.<br>
</li>
<li>Must be used within the employee’s established work hours.<br>
</li>
<li>Is not allowed on the employee’s days off, or while the employee is otherwise on approved leave, or when the employee is on overtime.<br>
</li>
<li>May not be combined with other instances of approved Administrative Leave.</li>
</ol>
<p>See the <a href="https://drive.google.com/file/d/1Z5XUCydpDjW-j8YLKRshp0WT_ZEfKKcq/view?pli=1">policy</a> for eligibility, employee responsibilities and allowable activities.</p>
</section>
</section>
<section id="working-over-time-more-than-4080" class="level3">
<h3 class="anchored" data-anchor-id="working-over-time-more-than-4080">Working Over-Time (more than 40/80)</h3>
<section id="non-federal-employees-2" class="level4">
<h4 class="anchored" data-anchor-id="non-federal-employees-2">non-Federal employees</h4>
<p>Obtain guidance on over-time from your employer.</p>
</section>
<section id="federal-employees-2" class="level4">
<h4 class="anchored" data-anchor-id="federal-employees-2">Federal employees</h4>
<p>For Federal staff, there are three mechanisms for being compensated for working more than 80 hours in a pay period (PP):</p>
<ul>
<li>Overtime Pay</li>
<li>Credit hours for those on maxi-flex schedules</li>
<li>Compensatory time</li>
</ul>
<section id="overtime-pay" class="level5">
<h5 class="anchored" data-anchor-id="overtime-pay">Overtime Pay</h5>
<p>Overtime pay is awarded for working beyond the 80 hours in a pay period. This should not occur often during the year. As best as possible, please work with the Program Manager ahead of time to gain approval for overtime work. If you are on a Maxi-Flex schedule, Credit Hours can be claimed <em>in lieu</em> of overtime pay. Guidelines:</p>
<ul>
<li>Gain approval from Program Manager beforehand</li>
<li>Work with PM and Timekeeper to fill out paperwork</li>
</ul>
</section>
<section id="credit-hours" class="level5">
<h5 class="anchored" data-anchor-id="credit-hours">Credit Hours</h5>
<p>If you are on a Maxi-Flex schedule, Credit Hours can be claimed <em>in lieu</em> of overtime pay. Guidelines:</p>
<ul>
<li>Can carry up to 24 credit hours<br>
</li>
<li>No advance approval is needed<br>
</li>
<li>Properly record credit hours on time-sheet<br>
</li>
<li>Submit a Request for Premium Pay in GovTA</li>
</ul>
</section>
<section id="compensatory-time" class="level5">
<h5 class="anchored" data-anchor-id="compensatory-time">Compensatory Time</h5>
<p>Compensatory time can be awarded for <strong>travel</strong> that occurs outside or beyond normal working hours or days (e.g., “red-eye” flight, travel on weekend, etc).</p>
<p>Compensatory time for working (as opposed to traveling) is typically not awarded. Rather, overtime work is typically compensated via overtime pay or credit hours (see above).</p>
<p>A quick guide for how to claim and record Compensatory Time for traveling can be found <a href="https://docs.google.com/document/d/1BdvL0mbBE0JY5HkDjdoi5RhCc0rn3G0SfXFHeo03nzY/edit">here</a>.</p>
</section>
</section>
</section>
</section>
<section id="duties" class="level2">
<h2 class="anchored" data-anchor-id="duties">Duties</h2>
<p>Both Federal and non-Federal employees will work with the PM to determine specific responsibilities, individual projects, deliverables, and duties. Duties and responsibilities will be revisited (with the PM, and when appropriate, members of the A-Team) during the year and updated to reflect any changes on a regular basis.</p>
<p>Duties that team members might assume, depending on interest, time, Program/Division/Center priorities, and needs include (but are not limited to):</p>
<ul>
<li>leading and assisting in designated research projects<br>
* Note that “leading” in this context means acting as Project Manager<br>
</li>
<li>participation in professional development opportunities</li>
<li>presenting analyses and results to NPFMC and other stakeholders<br>
</li>
<li>developing and submitting research funding proposals</li>
<li>submitting and publishing NOAA Technical Memorandum and other reports</li>
<li>submitting and publishing peer-reviewed journal articles</li>
<li>participating in outreach activities</li>
<li>attending scientific and professional conferences</li>
</ul>
<section id="observer-training-class" class="level3">
<h3 class="anchored" data-anchor-id="observer-training-class">Observer Training Class</h3>
<p>The Program Manager <strong>strongly encourages all new and existing Program staff</strong> to attend relevant portions of the 3 week observer training class. This might be a requirement for any new staff members who have never observed before or who have not had observer training with FMA in the last 3 years.</p>
<p>More details can be found in the <a href="observer-training-classes.qmd">Observer Training appendix</a>, but check with the Program Manager or the FMA Training Program Manager for the most up-to-date schedule.</p>
</section>
</section>
<section id="sec-perf" class="level2">
<h2 class="anchored" data-anchor-id="sec-perf">Performance</h2>
<section id="non-federal-employees-3" class="level4">
<h4 class="anchored" data-anchor-id="non-federal-employees-3">non-Federal employees</h4>
<p>Guidance on performance reviews should be provided by your employer.</p>
</section>
<section id="federal-employees-3" class="level4">
<h4 class="anchored" data-anchor-id="federal-employees-3">Federal employees</h4>
<p>Soon after joining the A-Team, you should work with the PM to create an annual, individual <a href="https://drive.google.com/file/d/18veCUTjncQVhRY6jOou9kclKWXJssOca/view?pli=1">Performance Plan</a>. Specific responsibilities, individual projects, deliverables, and duties will be reflected in the individual Performance Plan. This document will guide your work and will be revisited (in discussions with the PM) during the year and updated to reflect any changes on an annual basis.</p>
<p>Duties that team members might assume, depending on interest, time, Program/Division/Center priorities, and needs are listed above under <a href="#duties">Duties</a>.</p>
<p>More about the performance process can be found <a href="https://sites.google.com/noaa.gov/inside-fisheries-hc/human-capital/performance-culture-incentive-and-honorary-awards/commerce-alternative-personnel-system-caps">here</a>.</p>
<p>The <a href="https://sites.google.com/noaa.gov/myafsc/administrative/workforce-management/awards">AFSC Awards page</a> lists the many ways Federal employees can be recognized and awarded for their achievements including opportunities to nominate your peers for their hard work.</p>
</section>
</section>
<section id="afsc-contact-card" class="level2">
<h2 class="anchored" data-anchor-id="afsc-contact-card">AFSC Contact Card</h2>
<p>Federal staff are encouraged to set-up an AFSC Contact Card, for example, see <a href="https://www.fisheries.noaa.gov/contact/jason-e-jannot">Jason’s Contact Card</a>. This is optional and not required but provides a public facing profile so that others within and outside NOAA can find you and can be linked to other social media accounts (e.g., Research Gate, LinkedIn, etc.). You can request a <a href="https://docs.google.com/forms/d/e/1FAIpQLSdDfxoDycZjcmXDfPY_KnHwb2vPQ8HTzfFCSVt-qOvq_xPIZw/viewform">Contact Card here</a></p>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>